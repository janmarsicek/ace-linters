{"version":3,"file":"bundle.2275.js","mappings":"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","sources":["webpack://ace-linters-root/./packages/ace-linters/build/service-manager.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, () => {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \t// The require scope\n/******/ \tvar __webpack_require__ = {};\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"ServiceManager\": () => (/* binding */ ServiceManager)\n});\n\n;// CONCATENATED MODULE: ./utils.ts\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction mergeObjects(obj1, obj2) {\n    if (!obj1) return obj2;\n    if (!obj2) return obj1;\n    var mergedObjects = _object_spread({}, obj2, obj1); // Give priority to obj1 values by spreading obj2 first, then obj1\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n    try {\n        for(var _iterator = Object.keys(mergedObjects)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n            var key = _step.value;\n            if (obj1[key] && obj2[key]) {\n                if (Array.isArray(obj1[key])) {\n                    mergedObjects[key] = obj1[key].concat(obj2[key]);\n                } else if (Array.isArray(obj2[key])) {\n                    mergedObjects[key] = obj2[key].concat(obj1[key]);\n                } else if (typeof obj1[key] === \"object\" && typeof obj2[key] === \"object\") {\n                    mergedObjects[key] = mergeObjects(obj1[key], obj2[key]);\n                }\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n    return mergedObjects;\n}\nfunction notEmpty(value) {\n    return value !== null && value !== undefined;\n}\nfunction checkValueAgainstRegexpArray(value, regexpArray) {\n    if (!regexpArray) {\n        return false;\n    }\n    for(var i = 0; i < regexpArray.length; i++){\n        if (regexpArray[i].test(value)) {\n            return true;\n        }\n    }\n    return false;\n}\n\n;// CONCATENATED MODULE: ./message-types.ts\nfunction _assert_this_initialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n    return self;\n}\nfunction _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\nfunction message_types_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _get_prototype_of(o) {\n    _get_prototype_of = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n        return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _get_prototype_of(o);\n}\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            writable: true,\n            configurable: true\n        }\n    });\n    if (superClass) _set_prototype_of(subClass, superClass);\n}\nfunction _possible_constructor_return(self, call) {\n    if (call && (_type_of(call) === \"object\" || typeof call === \"function\")) {\n        return call;\n    }\n    return _assert_this_initialized(self);\n}\nfunction _set_prototype_of(o, p) {\n    _set_prototype_of = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n    };\n    return _set_prototype_of(o, p);\n}\nfunction _type_of(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n}\nfunction _is_native_reflect_construct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\nfunction _create_super(Derived) {\n    var hasNativeReflectConstruct = _is_native_reflect_construct();\n    return function _createSuperInternal() {\n        var Super = _get_prototype_of(Derived), result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = _get_prototype_of(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return _possible_constructor_return(this, result);\n    };\n}\nvar BaseMessage = function BaseMessage(sessionId) {\n    \"use strict\";\n    _class_call_check(this, BaseMessage);\n    message_types_define_property(this, \"sessionId\", void 0);\n    this.sessionId = sessionId;\n};\nvar InitMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(InitMessage, BaseMessage);\n    var _super = _create_super(InitMessage);\n    function InitMessage(sessionId, value, version, mode, options) {\n        _class_call_check(this, InitMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.init);\n        message_types_define_property(_assert_this_initialized(_this), \"mode\", void 0);\n        message_types_define_property(_assert_this_initialized(_this), \"options\", void 0);\n        message_types_define_property(_assert_this_initialized(_this), \"value\", void 0);\n        message_types_define_property(_assert_this_initialized(_this), \"version\", void 0);\n        _this.version = version;\n        _this.options = options;\n        _this.mode = mode;\n        _this.value = value;\n        return _this;\n    }\n    return InitMessage;\n}(BaseMessage)));\nvar FormatMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(FormatMessage, BaseMessage);\n    var _super = _create_super(FormatMessage);\n    function FormatMessage(sessionId, value, format) {\n        _class_call_check(this, FormatMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.format);\n        message_types_define_property(_assert_this_initialized(_this), \"value\", void 0);\n        message_types_define_property(_assert_this_initialized(_this), \"format\", void 0);\n        _this.value = value;\n        _this.format = format;\n        return _this;\n    }\n    return FormatMessage;\n}(BaseMessage)));\nvar CompleteMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(CompleteMessage, BaseMessage);\n    var _super = _create_super(CompleteMessage);\n    function CompleteMessage(sessionId, value) {\n        _class_call_check(this, CompleteMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.complete);\n        message_types_define_property(_assert_this_initialized(_this), \"value\", void 0);\n        _this.value = value;\n        return _this;\n    }\n    return CompleteMessage;\n}(BaseMessage)));\nvar ResolveCompletionMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(ResolveCompletionMessage, BaseMessage);\n    var _super = _create_super(ResolveCompletionMessage);\n    function ResolveCompletionMessage(sessionId, value) {\n        _class_call_check(this, ResolveCompletionMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.resolveCompletion);\n        message_types_define_property(_assert_this_initialized(_this), \"value\", void 0);\n        _this.value = value;\n        return _this;\n    }\n    return ResolveCompletionMessage;\n}(BaseMessage)));\nvar HoverMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(HoverMessage, BaseMessage);\n    var _super = _create_super(HoverMessage);\n    function HoverMessage(sessionId, value) {\n        _class_call_check(this, HoverMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.hover);\n        message_types_define_property(_assert_this_initialized(_this), \"value\", void 0);\n        _this.value = value;\n        return _this;\n    }\n    return HoverMessage;\n}(BaseMessage)));\nvar ValidateMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(ValidateMessage, BaseMessage);\n    var _super = _create_super(ValidateMessage);\n    function ValidateMessage(sessionId) {\n        _class_call_check(this, ValidateMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.validate);\n        return _this;\n    }\n    return ValidateMessage;\n}(BaseMessage)));\nvar ChangeMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(ChangeMessage, BaseMessage);\n    var _super = _create_super(ChangeMessage);\n    function ChangeMessage(sessionId, value, version) {\n        _class_call_check(this, ChangeMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.change);\n        message_types_define_property(_assert_this_initialized(_this), \"value\", void 0);\n        message_types_define_property(_assert_this_initialized(_this), \"version\", void 0);\n        _this.value = value;\n        _this.version = version;\n        return _this;\n    }\n    return ChangeMessage;\n}(BaseMessage)));\nvar DeltasMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(DeltasMessage, BaseMessage);\n    var _super = _create_super(DeltasMessage);\n    function DeltasMessage(sessionId, value, version) {\n        _class_call_check(this, DeltasMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.applyDelta);\n        message_types_define_property(_assert_this_initialized(_this), \"value\", void 0);\n        message_types_define_property(_assert_this_initialized(_this), \"version\", void 0);\n        _this.value = value;\n        _this.version = version;\n        return _this;\n    }\n    return DeltasMessage;\n}(BaseMessage)));\nvar ChangeModeMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(ChangeModeMessage, BaseMessage);\n    var _super = _create_super(ChangeModeMessage);\n    function ChangeModeMessage(sessionId, value, mode) {\n        _class_call_check(this, ChangeModeMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.changeMode);\n        message_types_define_property(_assert_this_initialized(_this), \"mode\", void 0);\n        message_types_define_property(_assert_this_initialized(_this), \"value\", void 0);\n        _this.value = value;\n        _this.mode = mode;\n        return _this;\n    }\n    return ChangeModeMessage;\n}(BaseMessage)));\nvar ChangeOptionsMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(ChangeOptionsMessage, BaseMessage);\n    var _super = _create_super(ChangeOptionsMessage);\n    function ChangeOptionsMessage(sessionId, options) {\n        var merge = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n        _class_call_check(this, ChangeOptionsMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.changeOptions);\n        message_types_define_property(_assert_this_initialized(_this), \"options\", void 0);\n        message_types_define_property(_assert_this_initialized(_this), \"merge\", void 0);\n        _this.options = options;\n        _this.merge = merge;\n        return _this;\n    }\n    return ChangeOptionsMessage;\n}(BaseMessage)));\nvar DisposeMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(DisposeMessage, BaseMessage);\n    var _super = _create_super(DisposeMessage);\n    function DisposeMessage(sessionId) {\n        _class_call_check(this, DisposeMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.dispose);\n        return _this;\n    }\n    return DisposeMessage;\n}(BaseMessage)));\nvar GlobalOptionsMessage = function GlobalOptionsMessage(serviceName, options, merge) {\n    \"use strict\";\n    _class_call_check(this, GlobalOptionsMessage);\n    message_types_define_property(this, \"type\", MessageType.globalOptions);\n    message_types_define_property(this, \"serviceName\", void 0);\n    message_types_define_property(this, \"options\", void 0);\n    message_types_define_property(this, \"merge\", void 0);\n    this.serviceName = serviceName;\n    this.options = options;\n    this.merge = merge;\n};\nvar ConfigureFeaturesMessage = function ConfigureFeaturesMessage(serviceName, options) {\n    \"use strict\";\n    _class_call_check(this, ConfigureFeaturesMessage);\n    message_types_define_property(this, \"type\", MessageType.configureFeatures);\n    message_types_define_property(this, \"serviceName\", void 0);\n    message_types_define_property(this, \"options\", void 0);\n    this.serviceName = serviceName;\n    this.options = options;\n};\nvar SignatureHelpMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(SignatureHelpMessage, BaseMessage);\n    var _super = _create_super(SignatureHelpMessage);\n    function SignatureHelpMessage(sessionId, value) {\n        _class_call_check(this, SignatureHelpMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.signatureHelp);\n        message_types_define_property(_assert_this_initialized(_this), \"value\", void 0);\n        _this.value = value;\n        return _this;\n    }\n    return SignatureHelpMessage;\n}(BaseMessage)));\nvar DocumentHighlightMessage = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(BaseMessage) {\n    \"use strict\";\n    _inherits(DocumentHighlightMessage, BaseMessage);\n    var _super = _create_super(DocumentHighlightMessage);\n    function DocumentHighlightMessage(sessionId, value) {\n        _class_call_check(this, DocumentHighlightMessage);\n        var _this;\n        _this = _super.call(this, sessionId);\n        message_types_define_property(_assert_this_initialized(_this), \"type\", MessageType.documentHighlight);\n        message_types_define_property(_assert_this_initialized(_this), \"value\", void 0);\n        _this.value = value;\n        return _this;\n    }\n    return DocumentHighlightMessage;\n}(BaseMessage)));\nvar MessageType;\n(function(MessageType) {\n    MessageType[MessageType[\"init\"] = 0] = \"init\";\n    MessageType[MessageType[\"format\"] = 1] = \"format\";\n    MessageType[MessageType[\"complete\"] = 2] = \"complete\";\n    MessageType[MessageType[\"resolveCompletion\"] = 3] = \"resolveCompletion\";\n    MessageType[MessageType[\"change\"] = 4] = \"change\";\n    MessageType[MessageType[\"hover\"] = 5] = \"hover\";\n    MessageType[MessageType[\"validate\"] = 6] = \"validate\";\n    MessageType[MessageType[\"applyDelta\"] = 7] = \"applyDelta\";\n    MessageType[MessageType[\"changeMode\"] = 8] = \"changeMode\";\n    MessageType[MessageType[\"changeOptions\"] = 9] = \"changeOptions\";\n    MessageType[MessageType[\"dispose\"] = 10] = \"dispose\";\n    MessageType[MessageType[\"globalOptions\"] = 11] = \"globalOptions\";\n    MessageType[MessageType[\"configureFeatures\"] = 12] = \"configureFeatures\";\n    MessageType[MessageType[\"signatureHelp\"] = 13] = \"signatureHelp\";\n    MessageType[MessageType[\"documentHighlight\"] = 14] = \"documentHighlight\";\n})(MessageType || (MessageType = {}));\n\n;// CONCATENATED MODULE: ./services/service-manager.ts\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction service_manager_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction service_manager_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, g, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    };\n    return(g = {\n        next: verb(0),\n        \"throw\": verb(1),\n        \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g);\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(_)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\nfunction _ts_values(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\n\nvar ServiceManager = /*#__PURE__*/ function() {\n    \"use strict\";\n    function ServiceManager(ctx) {\n        service_manager_class_call_check(this, ServiceManager);\n        service_manager_define_property(this, \"$services\", {});\n        service_manager_define_property(this, \"$sessionIDToMode\", {});\n        var _this = this;\n        var doValidation = function() {\n            var _ref = _async_to_generator(function(document, servicesInstances) {\n                var sessionIDList, postMessage, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _loop, _iterator, _step, err;\n                return _ts_generator(this, function(_state) {\n                    switch(_state.label){\n                        case 0:\n                            servicesInstances !== null && servicesInstances !== void 0 ? servicesInstances : servicesInstances = _this.getServicesInstances(document.uri);\n                            if (servicesInstances.length === 0) {\n                                return [\n                                    2\n                                ];\n                            }\n                            sessionIDList = Object.keys(servicesInstances[0].documents);\n                            servicesInstances = _this.filterByFeature(servicesInstances, \"diagnostics\");\n                            postMessage = {\n                                \"type\": MessageType.validate\n                            };\n                            _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                            _state.label = 1;\n                        case 1:\n                            _state.trys.push([\n                                1,\n                                6,\n                                7,\n                                8\n                            ]);\n                            _loop = function() {\n                                var sessionID, _ref, diagnostics;\n                                return _ts_generator(this, function(_state) {\n                                    switch(_state.label){\n                                        case 0:\n                                            sessionID = _step.value;\n                                            return [\n                                                4,\n                                                Promise.all(servicesInstances.map(function(el) {\n                                                    return el.doValidation({\n                                                        uri: sessionID\n                                                    });\n                                                }))\n                                            ];\n                                        case 1:\n                                            diagnostics = (_ref = _state.sent()) !== null && _ref !== void 0 ? _ref : [];\n                                            postMessage[\"sessionId\"] = sessionID;\n                                            postMessage[\"value\"] = diagnostics.flat();\n                                            ctx.postMessage(postMessage);\n                                            return [\n                                                2\n                                            ];\n                                    }\n                                });\n                            };\n                            _iterator = sessionIDList[Symbol.iterator]();\n                            _state.label = 2;\n                        case 2:\n                            if (!!(_iteratorNormalCompletion = (_step = _iterator.next()).done)) return [\n                                3,\n                                5\n                            ];\n                            return [\n                                5,\n                                _ts_values(_loop())\n                            ];\n                        case 3:\n                            _state.sent();\n                            _state.label = 4;\n                        case 4:\n                            _iteratorNormalCompletion = true;\n                            return [\n                                3,\n                                2\n                            ];\n                        case 5:\n                            return [\n                                3,\n                                8\n                            ];\n                        case 6:\n                            err = _state.sent();\n                            _didIteratorError = true;\n                            _iteratorError = err;\n                            return [\n                                3,\n                                8\n                            ];\n                        case 7:\n                            try {\n                                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                                    _iterator.return();\n                                }\n                            } finally{\n                                if (_didIteratorError) {\n                                    throw _iteratorError;\n                                }\n                            }\n                            return [\n                                7\n                            ];\n                        case 8:\n                            return [\n                                2\n                            ];\n                    }\n                });\n            });\n            return function doValidation(document, servicesInstances) {\n                return _ref.apply(this, arguments);\n            };\n        }();\n        var _this1 = this;\n        var provideValidationForServiceInstance = function() {\n            var _ref = _async_to_generator(function(serviceName) {\n                var serviceInstance;\n                return _ts_generator(this, function(_state) {\n                    switch(_state.label){\n                        case 0:\n                            serviceInstance = _this1.$services[serviceName].serviceInstance;\n                            if (!serviceInstance) return [\n                                3,\n                                2\n                            ];\n                            return [\n                                4,\n                                doValidation(undefined, [\n                                    serviceInstance\n                                ])\n                            ];\n                        case 1:\n                            _state.sent();\n                            _state.label = 2;\n                        case 2:\n                            return [\n                                2\n                            ];\n                    }\n                });\n            });\n            return function provideValidationForServiceInstance(serviceName) {\n                return _ref.apply(this, arguments);\n            };\n        }();\n        var _this2 = this;\n        ctx.addEventListener(\"message\", function() {\n            var _ref = _async_to_generator(function(ev) {\n                var message, _message_sessionId, sessionID, version, postMessage, serviceInstances, documentIdentifier, _, _1, _this_filterByFeature_find, serviceName, _2, _3, _4, _5, highlights;\n                return _ts_generator(this, function(_state) {\n                    switch(_state.label){\n                        case 0:\n                            message = ev.data;\n                            sessionID = (_message_sessionId = message.sessionId) !== null && _message_sessionId !== void 0 ? _message_sessionId : \"\";\n                            version = message.version;\n                            postMessage = {\n                                \"type\": message.type,\n                                \"sessionId\": sessionID\n                            };\n                            serviceInstances = _this2.getServicesInstances(sessionID);\n                            documentIdentifier = {\n                                uri: sessionID,\n                                version: version\n                            };\n                            _ = message[\"type\"];\n                            switch(_){\n                                case MessageType.format:\n                                    return [\n                                        3,\n                                        1\n                                    ];\n                                case MessageType.complete:\n                                    return [\n                                        3,\n                                        2\n                                    ];\n                                case MessageType.resolveCompletion:\n                                    return [\n                                        3,\n                                        4\n                                    ];\n                                case MessageType.change:\n                                    return [\n                                        3,\n                                        6\n                                    ];\n                                case MessageType.applyDelta:\n                                    return [\n                                        3,\n                                        8\n                                    ];\n                                case MessageType.hover:\n                                    return [\n                                        3,\n                                        10\n                                    ];\n                                case MessageType.validate:\n                                    return [\n                                        3,\n                                        12\n                                    ];\n                                case MessageType.init:\n                                    return [\n                                        3,\n                                        14\n                                    ];\n                                case MessageType.changeMode:\n                                    return [\n                                        3,\n                                        17\n                                    ];\n                                case MessageType.changeOptions:\n                                    return [\n                                        3,\n                                        20\n                                    ];\n                                case MessageType.dispose:\n                                    return [\n                                        3,\n                                        22\n                                    ];\n                                case MessageType.globalOptions:\n                                    return [\n                                        3,\n                                        23\n                                    ];\n                                case MessageType.configureFeatures:\n                                    return [\n                                        3,\n                                        25\n                                    ];\n                                case MessageType.signatureHelp:\n                                    return [\n                                        3,\n                                        27\n                                    ];\n                                case MessageType.documentHighlight:\n                                    return [\n                                        3,\n                                        29\n                                    ];\n                            }\n                            return [\n                                3,\n                                31\n                            ];\n                        case 1:\n                            serviceInstances = _this2.filterByFeature(serviceInstances, \"format\");\n                            if (serviceInstances.length > 0) {\n                                //we will use only first service to format\n                                postMessage[\"value\"] = serviceInstances[0].format(documentIdentifier, message.value, message.format);\n                            }\n                            return [\n                                3,\n                                31\n                            ];\n                        case 2:\n                            _1 = \"value\";\n                            return [\n                                4,\n                                Promise.all(_this2.filterByFeature(serviceInstances, \"completion\").map(function() {\n                                    var _ref = _async_to_generator(function(service) {\n                                        var _tmp;\n                                        return _ts_generator(this, function(_state) {\n                                            switch(_state.label){\n                                                case 0:\n                                                    _tmp = {};\n                                                    return [\n                                                        4,\n                                                        service.doComplete(documentIdentifier, message.value)\n                                                    ];\n                                                case 1:\n                                                    return [\n                                                        2,\n                                                        (_tmp.completions = _state.sent(), _tmp.service = service.serviceData.className, _tmp)\n                                                    ];\n                                            }\n                                        });\n                                    });\n                                    return function(service) {\n                                        return _ref.apply(this, arguments);\n                                    };\n                                }()))\n                            ];\n                        case 3:\n                            postMessage[_1] = _state.sent().filter(notEmpty);\n                            return [\n                                3,\n                                31\n                            ];\n                        case 4:\n                            serviceName = message.value.service;\n                            _2 = \"value\";\n                            return [\n                                4,\n                                (_this_filterByFeature_find = _this2.filterByFeature(serviceInstances, \"completionResolve\").find(function(service) {\n                                    if (service.serviceData.className === serviceName) {\n                                        return service;\n                                    }\n                                })) === null || _this_filterByFeature_find === void 0 ? void 0 : _this_filterByFeature_find.doResolve(message.value)\n                            ];\n                        case 5:\n                            postMessage[_2] = _state.sent();\n                            return [\n                                3,\n                                31\n                            ];\n                        case 6:\n                            serviceInstances.forEach(function(service) {\n                                service.setValue(documentIdentifier, message.value);\n                            });\n                            return [\n                                4,\n                                doValidation(documentIdentifier, serviceInstances)\n                            ];\n                        case 7:\n                            _state.sent();\n                            return [\n                                3,\n                                31\n                            ];\n                        case 8:\n                            serviceInstances.forEach(function(service) {\n                                service.applyDeltas(documentIdentifier, message.value);\n                            });\n                            return [\n                                4,\n                                doValidation(documentIdentifier, serviceInstances)\n                            ];\n                        case 9:\n                            _state.sent();\n                            return [\n                                3,\n                                31\n                            ];\n                        case 10:\n                            _3 = \"value\";\n                            return [\n                                4,\n                                Promise.all(_this2.filterByFeature(serviceInstances, \"hover\").map(function() {\n                                    var _ref = _async_to_generator(function(service) {\n                                        return _ts_generator(this, function(_state) {\n                                            return [\n                                                2,\n                                                service.doHover(documentIdentifier, message.value)\n                                            ];\n                                        });\n                                    });\n                                    return function(service) {\n                                        return _ref.apply(this, arguments);\n                                    };\n                                }()))\n                            ];\n                        case 11:\n                            postMessage[_3] = _state.sent().filter(notEmpty);\n                            return [\n                                3,\n                                31\n                            ];\n                        case 12:\n                            _4 = \"value\";\n                            return [\n                                4,\n                                doValidation(documentIdentifier, serviceInstances)\n                            ];\n                        case 13:\n                            postMessage[_4] = _state.sent();\n                            return [\n                                3,\n                                31\n                            ];\n                        case 14:\n                            return [\n                                4,\n                                _this2.addDocument(documentIdentifier, message.value, message.mode, message.options)\n                            ];\n                        case 15:\n                            _state.sent();\n                            return [\n                                4,\n                                doValidation(documentIdentifier)\n                            ];\n                        case 16:\n                            _state.sent();\n                            return [\n                                3,\n                                31\n                            ];\n                        case 17:\n                            return [\n                                4,\n                                _this2.changeDocumentMode(documentIdentifier, message.value, message.mode, message.options)\n                            ];\n                        case 18:\n                            _state.sent();\n                            return [\n                                4,\n                                doValidation(documentIdentifier, serviceInstances)\n                            ];\n                        case 19:\n                            _state.sent();\n                            return [\n                                3,\n                                31\n                            ];\n                        case 20:\n                            serviceInstances.forEach(function(service) {\n                                service.setOptions(sessionID, message.options);\n                            });\n                            return [\n                                4,\n                                doValidation(documentIdentifier, serviceInstances)\n                            ];\n                        case 21:\n                            _state.sent();\n                            return [\n                                3,\n                                31\n                            ];\n                        case 22:\n                            _this2.removeDocument(documentIdentifier);\n                            return [\n                                3,\n                                31\n                            ];\n                        case 23:\n                            _this2.setGlobalOptions(message.serviceName, message.options, message.merge);\n                            return [\n                                4,\n                                provideValidationForServiceInstance(message.serviceName)\n                            ];\n                        case 24:\n                            _state.sent();\n                            return [\n                                3,\n                                31\n                            ];\n                        case 25:\n                            _this2.configureFeatures(message.serviceName, message.options);\n                            return [\n                                4,\n                                provideValidationForServiceInstance(message.serviceName)\n                            ];\n                        case 26:\n                            _state.sent();\n                            return [\n                                3,\n                                31\n                            ];\n                        case 27:\n                            _5 = \"value\";\n                            return [\n                                4,\n                                Promise.all(_this2.filterByFeature(serviceInstances, \"signatureHelp\").map(function() {\n                                    var _ref = _async_to_generator(function(service) {\n                                        return _ts_generator(this, function(_state) {\n                                            return [\n                                                2,\n                                                service.provideSignatureHelp(documentIdentifier, message.value)\n                                            ];\n                                        });\n                                    });\n                                    return function(service) {\n                                        return _ref.apply(this, arguments);\n                                    };\n                                }()))\n                            ];\n                        case 28:\n                            postMessage[_5] = _state.sent().filter(notEmpty);\n                            return [\n                                3,\n                                31\n                            ];\n                        case 29:\n                            return [\n                                4,\n                                Promise.all(_this2.filterByFeature(serviceInstances, \"documentHighlight\").map(function() {\n                                    var _ref = _async_to_generator(function(service) {\n                                        return _ts_generator(this, function(_state) {\n                                            return [\n                                                2,\n                                                service.findDocumentHighlights(documentIdentifier, message.value)\n                                            ];\n                                        });\n                                    });\n                                    return function(service) {\n                                        return _ref.apply(this, arguments);\n                                    };\n                                }()))\n                            ];\n                        case 30:\n                            highlights = _state.sent().filter(notEmpty);\n                            postMessage[\"value\"] = highlights.flat();\n                            return [\n                                3,\n                                31\n                            ];\n                        case 31:\n                            ctx.postMessage(postMessage);\n                            return [\n                                2\n                            ];\n                    }\n                });\n            });\n            return function(ev) {\n                return _ref.apply(this, arguments);\n            };\n        }());\n    }\n    _create_class(ServiceManager, [\n        {\n            key: \"$getServicesInstancesByMode\",\n            value: function $getServicesInstancesByMode(mode) {\n                var _this = this;\n                return _async_to_generator(function() {\n                    var services;\n                    return _ts_generator(this, function(_state) {\n                        services = _this.findServicesByMode(mode);\n                        if (services.length === 0) {\n                            return [\n                                2,\n                                []\n                            ];\n                        }\n                        return [\n                            2,\n                            Promise.all(services.map(function() {\n                                var _ref = _async_to_generator(function(service) {\n                                    return _ts_generator(this, function(_state) {\n                                        switch(_state.label){\n                                            case 0:\n                                                if (!!service.serviceInstance) return [\n                                                    3,\n                                                    2\n                                                ];\n                                                return [\n                                                    4,\n                                                    ServiceManager.$initServiceInstance(service)\n                                                ];\n                                            case 1:\n                                                return [\n                                                    2,\n                                                    _state.sent()\n                                                ];\n                                            case 2:\n                                                return [\n                                                    2,\n                                                    service.serviceInstance\n                                                ];\n                                            case 3:\n                                                return [\n                                                    2\n                                                ];\n                                        }\n                                    });\n                                });\n                                return function(service) {\n                                    return _ref.apply(this, arguments);\n                                };\n                            }()))\n                        ];\n                    });\n                })();\n            }\n        },\n        {\n            key: \"setGlobalOptions\",\n            value: function setGlobalOptions(serviceName, options) {\n                var merge = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n                var service = this.$services[serviceName];\n                if (!service) return;\n                service.options = merge ? mergeObjects(options, service.options) : options;\n                if (service.serviceInstance) {\n                    service.serviceInstance.setGlobalOptions(service.options);\n                }\n            }\n        },\n        {\n            key: \"addDocument\",\n            value: function addDocument(documentIdentifier, documentValue, mode, options) {\n                var _this = this;\n                return _async_to_generator(function() {\n                    var serviceInstances, documentItem;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                if (!mode || !/^ace\\/mode\\//.test(mode)) return [\n                                    2\n                                ];\n                                mode = mode.replace(\"ace/mode/\", \"\");\n                                return [\n                                    4,\n                                    _this.$getServicesInstancesByMode(mode)\n                                ];\n                            case 1:\n                                serviceInstances = _state.sent();\n                                if (serviceInstances.length === 0) return [\n                                    2\n                                ];\n                                documentItem = {\n                                    uri: documentIdentifier.uri,\n                                    version: documentIdentifier.version,\n                                    languageId: mode,\n                                    text: documentValue\n                                };\n                                serviceInstances.forEach(function(el) {\n                                    return el.addDocument(documentItem);\n                                });\n                                _this.$sessionIDToMode[documentIdentifier.uri] = mode;\n                                return [\n                                    2\n                                ];\n                        }\n                    });\n                })();\n            }\n        },\n        {\n            key: \"changeDocumentMode\",\n            value: function changeDocumentMode(documentIdentifier, value, mode, options) {\n                var _this = this;\n                return _async_to_generator(function() {\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                _this.removeDocument(documentIdentifier);\n                                return [\n                                    4,\n                                    _this.addDocument(documentIdentifier, value, mode, options)\n                                ];\n                            case 1:\n                                _state.sent();\n                                return [\n                                    2\n                                ];\n                        }\n                    });\n                })();\n            }\n        },\n        {\n            key: \"removeDocument\",\n            value: function removeDocument(document) {\n                var services = this.getServicesInstances(document.uri);\n                if (services.length > 0) {\n                    services.forEach(function(el) {\n                        return el.removeDocument(document);\n                    });\n                    delete this.$sessionIDToMode[document.uri];\n                }\n            }\n        },\n        {\n            key: \"getServicesInstances\",\n            value: function getServicesInstances(sessionID) {\n                var mode = this.$sessionIDToMode[sessionID];\n                if (!mode) return []; //TODO:\n                var services = this.findServicesByMode(mode);\n                return services.map(function(el) {\n                    return el.serviceInstance;\n                }).filter(notEmpty);\n            }\n        },\n        {\n            key: \"filterByFeature\",\n            value: function filterByFeature(serviceInstances, feature) {\n                return serviceInstances.filter(function(el) {\n                    return el.serviceData.features[feature] === true;\n                });\n            }\n        },\n        {\n            key: \"findServicesByMode\",\n            value: function findServicesByMode(mode) {\n                return Object.values(this.$services).filter(function(el) {\n                    var extensions = el.modes.split(\"|\");\n                    if (extensions.includes(mode)) return el;\n                });\n            }\n        },\n        {\n            key: \"registerService\",\n            value: function registerService(name, service) {\n                service.features = this.setDefaultFeaturesState(service.features);\n                this.$services[name] = service;\n            }\n        },\n        {\n            key: \"configureFeatures\",\n            value: function configureFeatures(name, features) {\n                features = this.setDefaultFeaturesState(features);\n                this.$services[name].features = features;\n            }\n        },\n        {\n            key: \"setDefaultFeaturesState\",\n            value: function setDefaultFeaturesState(serviceFeatures) {\n                var _features, _features1, _features2, _features3, _features4, _features5, _features6;\n                var features = serviceFeatures !== null && serviceFeatures !== void 0 ? serviceFeatures : {};\n                var _hover;\n                (_hover = (_features = features).hover) !== null && _hover !== void 0 ? _hover : _features.hover = true;\n                var _completion;\n                (_completion = (_features1 = features).completion) !== null && _completion !== void 0 ? _completion : _features1.completion = true;\n                var _completionResolve;\n                (_completionResolve = (_features2 = features).completionResolve) !== null && _completionResolve !== void 0 ? _completionResolve : _features2.completionResolve = true;\n                var _format;\n                (_format = (_features3 = features).format) !== null && _format !== void 0 ? _format : _features3.format = true;\n                var _diagnostics;\n                (_diagnostics = (_features4 = features).diagnostics) !== null && _diagnostics !== void 0 ? _diagnostics : _features4.diagnostics = true;\n                var _signatureHelp;\n                (_signatureHelp = (_features5 = features).signatureHelp) !== null && _signatureHelp !== void 0 ? _signatureHelp : _features5.signatureHelp = true;\n                var _documentHighlight;\n                (_documentHighlight = (_features6 = features).documentHighlight) !== null && _documentHighlight !== void 0 ? _documentHighlight : _features6.documentHighlight = true;\n                return features;\n            }\n        }\n    ], [\n        {\n            key: \"$initServiceInstance\",\n            value: function $initServiceInstance(service) {\n                return _async_to_generator(function() {\n                    var module;\n                    return _ts_generator(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                return [\n                                    4,\n                                    service.module()\n                                ];\n                            case 1:\n                                module = _state.sent();\n                                service.serviceInstance = new module[service.className](service.modes);\n                                if (service.options) service.serviceInstance.setGlobalOptions(service.options);\n                                service.serviceInstance.serviceData = service;\n                                return [\n                                    2,\n                                    service.serviceInstance\n                                ];\n                        }\n                    });\n                })();\n            }\n        }\n    ]);\n    return ServiceManager;\n}();\n\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","a","i","self","_define_property","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_object_spread","target","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","notEmpty","undefined","checkValueAgainstRegexpArray","regexpArray","test","_assert_this_initialized","ReferenceError","_class_call_check","instance","Constructor","TypeError","message_types_define_property","_inherits","subClass","superClass","prototype","create","constructor","_set_prototype_of","_possible_constructor_return","call","_type_of","Symbol","_is_native_reflect_construct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_create_super","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","_get_prototype_of","result","NewTarget","apply","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_async_to_generator","fn","args","err","service_manager_class_call_check","_defineProperties","props","descriptor","_create_class","protoProps","staticProps","service_manager_define_property","_ts_generator","thisArg","body","f","y","t","g","_","label","sent","trys","ops","next","verb","iterator","n","v","step","op","pop","push","_ts_values","o","s","m","__webpack_require__","d","definition","get","prop","hasOwnProperty","r","toStringTag","__webpack_exports__","ServiceManager","mergeObjects","obj1","obj2","mergedObjects","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Array","isArray","return","setPrototypeOf","getPrototypeOf","__proto__","p","BaseMessage","sessionId","InitMessage","_super","version","mode","options","_this","MessageType","init","FormatMessage","format","CompleteMessage","complete","ResolveCompletionMessage","resolveCompletion","HoverMessage","hover","ValidateMessage","validate","ChangeMessage","change","DeltasMessage","applyDelta","ChangeModeMessage","changeMode","ChangeOptionsMessage","merge","changeOptions","DisposeMessage","dispose","GlobalOptionsMessage","serviceName","globalOptions","ConfigureFeaturesMessage","configureFeatures","SignatureHelpMessage","signatureHelp","DocumentHighlightMessage","documentHighlight","ctx","doValidation","_ref","document","servicesInstances","sessionIDList","postMessage","_loop","_state","getServicesInstances","uri","documents","filterByFeature","sessionID","diagnostics","all","map","el","flat","_this1","provideValidationForServiceInstance","serviceInstance","$services","_this2","addEventListener","ev","message","_message_sessionId","serviceInstances","documentIdentifier","_1","_this_filterByFeature_find","_2","_3","_4","_5","highlights","data","type","service","_tmp","doComplete","completions","serviceData","className","find","doResolve","setValue","applyDeltas","doHover","addDocument","changeDocumentMode","setOptions","removeDocument","setGlobalOptions","provideSignatureHelp","findDocumentHighlights","$getServicesInstancesByMode","services","findServicesByMode","$initServiceInstance","documentValue","documentItem","replace","languageId","text","$sessionIDToMode","feature","features","values","extensions","modes","split","includes","registerService","name","setDefaultFeaturesState","serviceFeatures","_features","_features1","_features2","_features3","_features4","_features5","_features6","_hover","_completion","completion","_completionResolve","completionResolve","_format","_diagnostics","_signatureHelp","_documentHighlight"],"sourceRoot":""}